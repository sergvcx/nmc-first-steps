= Создание Библиотеки Макросов
Исходный текст примера, используемого в данном уроке, содержится в файле `step13а.S` в каталоге: `steps-fixed/stepi013а`
На примере предыдущего урока демонстрируются возможности использования макросов. Кроме того, в одном из макросов описаны возможности условной компиляции. 



*Файл “macros.h”*
[code.S]
----
include::macros.hs[]
----

== Комментарии к Примеру
В макросе `Push_Pop` используются возможности условной компиляции. Если в качестве фактического параметра передается ноль, то регистровые пары сохраняются в стеке; если же передана единица, то происходит восстановление регистровых пар из стека. На этапе компиляции в каждом отдельном случае будет подставлен тот или иной фрагмент программного кода.
Блоки условной компиляции формируются с помощью директивы `.if`. 


[code,cpp]
----
include::main.cpp[]
----

[code.S]
----
include::step13a.S[]
----

